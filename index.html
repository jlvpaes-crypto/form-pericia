<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de Perícia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
    </style>
</head>
<body class="bg-gray-100 p-4 sm:p-6 lg:p-8">
    <div class="max-w-4xl mx-auto bg-white p-6 sm:p-8 lg:p-10 rounded-xl shadow-lg border border-gray-200" id="formContent">
        <!-- Header -->
        <div class="text-center mb-6">
            <h1 class="text-xl sm:text-2xl font-bold text-gray-800">PREFEITURA MUNICIPAL DE BOA VISTA</h1>
            <h2 class="text-md sm:text-lg font-semibold text-gray-700">SECRETARIA MUNICIPAL DE ADMINISTRAÇÃO E GESTÃO DE PESSOAS</h2>
            <h3 class="text-sm sm:text-base text-gray-600">Superintendência de Gestão de Pessoas</h3>
            <h4 class="mt-4 text-lg sm:text-xl font-bold text-blue-600">SOLICITAÇÃO DE PERÍCIA MÉDICA/ODONTOLÓGICA</h4>
        </div>

        <form id="periciaForm">
            <!-- Personal Data Section -->
            <div class="mb-8 p-4 sm:p-6 rounded-lg border border-blue-200 bg-blue-50">
                <h5 class="text-lg font-bold text-blue-700 mb-4">DADOS PESSOAIS</h5>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="col-span-1">
                        <label for="nome" class="block text-sm font-medium text-gray-700">Nome:</label>
                        <input type="text" id="nome" name="nome" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="nomeSocial" class="block text-sm font-medium text-gray-700">Nome Social:</label>
                        <input type="text" id="nomeSocial" name="nomeSocial" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border">
                    </div>
                    <div class="col-span-1">
                        <label for="rg" class="block text-sm font-medium text-gray-700">RG nº:</label>
                        <input type="text" id="rg" name="rg" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="orgaoExpeditor" class="block text-sm font-medium text-gray-700">Órgão Exped.:</label>
                        <input type="text" id="orgaoExpeditor" name="orgaoExpeditor" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="dtExpedicao" class="block text-sm font-medium text-gray-700">Dt. Exped.:</label>
                        <input type="date" id="dtExpedicao" name="dtExpedicao" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="naturalidade" class="block text-sm font-medium text-gray-700">Naturalidade:</label>
                        <input type="text" id="naturalidade" name="naturalidade" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border">
                    </div>
                    <div class="col-span-1">
                        <label for="dataNascimento" class="block text-sm font-medium text-gray-700">Data de Nasc.:</label>
                        <input type="date" id="dataNascimento" name="dataNascimento" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="estadoCivil" class="block text-sm font-medium text-gray-700">Estado Civil:</label>
                        <input type="text" id="estadoCivil" name="estadoCivil" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border">
                    </div>
                    <div class="col-span-1">
                        <label for="cpf" class="block text-sm font-medium text-gray-700">CPF:</label>
                        <input type="text" id="cpf" name="cpf" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="pisPasep" class="block text-sm font-medium text-gray-700">PIS/PASEP.:</label>
                        <input type="text" id="pisPasep" name="pisPasep" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border">
                    </div>
                    <div class="col-span-1">
                        <label for="telefone" class="block text-sm font-medium text-gray-700">Tel.:</label>
                        <input type="tel" id="telefone" name="telefone" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border">
                    </div>
                    <div class="col-span-2">
                        <label for="filiacao" class="block text-sm font-medium text-gray-700">Filiação:</label>
                        <input type="text" id="filiacao" name="filiacao" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border">
                    </div>
                    <div class="col-span-2">
                        <label for="endereco" class="block text-sm font-medium text-gray-700">Endereço:</label>
                        <input type="text" id="endereco" name="endereco" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="bairro" class="block text-sm font-medium text-gray-700">Bairro:</label>
                        <input type="text" id="bairro" name="bairro" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="cidade" class="block text-sm font-medium text-gray-700">Cidade:</label>
                        <input type="text" id="cidade" name="cidade" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="cep" class="block text-sm font-medium text-gray-700">CEP:</label>
                        <input type="text" id="cep" name="cep" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="email" class="block text-sm font-medium text-gray-700">e-mail:</label>
                        <input type="email" id="email" name="email" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border" required>
                    </div>
                </div>
            </div>

            <!-- Professional Data Section -->
            <div class="mb-8 p-4 sm:p-6 rounded-lg border border-green-200 bg-green-50">
                <h5 class="text-lg font-bold text-green-700 mb-4">DADOS PROFISSIONAIS</h5>
                
                <!-- Cargo 1 -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div class="col-span-1">
                        <label for="cargo1" class="block text-sm font-medium text-gray-700">Cargo (1):</label>
                        <input type="text" id="cargo1" name="cargo1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="especialidade1" class="block text-sm font-medium text-gray-700">Especialidade (1):</label>
                        <input type="text" id="especialidade1" name="especialidade1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border">
                    </div>
                    <div class="col-span-2">
                        <p class="text-sm font-medium text-gray-700">Vínculo:</p>
                        <div class="mt-2 flex flex-wrap gap-4">
                            <div class="flex items-center">
                                <input type="radio" id="vinculo1_efetivo" name="vinculo1" value="Efetivo" class="h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <label for="vinculo1_efetivo" class="ml-2 text-sm text-gray-700">Efetivo</label>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" id="vinculo1_comissionado" name="vinculo1" value="Comissionado" class="h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <label for="vinculo1_comissionado" class="ml-2 text-sm text-gray-700">Comissionado</label>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" id="vinculo1_temporario" name="vinculo1" value="Cont. Temporário" class="h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <label for="vinculo1_temporario" class="ml-2 text-sm text-gray-700">Cont. Temporário</label>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" id="vinculo1_uniao" name="vinculo1" value="União/Ex-Território" class="h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <label for="vinculo1_uniao" class="ml-2 text-sm text-gray-700">União/Ex-Território</label>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" id="vinculo1_clt" name="vinculo1" value="Empregado Público/CLT" class="h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <label for="vinculo1_clt" class="ml-2 text-sm text-gray-700">Empregado Público/CLT</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-span-1">
                        <label for="matricula1" class="block text-sm font-medium text-gray-700">Matrícula (1):</label>
                        <input type="text" id="matricula1" name="matricula1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="dataAdmissao1" class="block text-sm font-medium text-gray-700">Data de admissão:</label>
                        <input type="date" id="dataAdmissao1" name="dataAdmissao1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="secretaria1" class="block text-sm font-medium text-gray-700">Secret./Órgão:</label>
                        <input type="text" id="secretaria1" name="secretaria1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="setor1" class="block text-sm font-medium text-gray-700">Setor de Lotação (1):</label>
                        <input type="text" id="setor1" name="setor1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border" required>
                    </div>
                    <div class="col-span-1">
                        <label for="telefone1_prof" class="block text-sm font-medium text-gray-700">Telefone:</label>
                        <input type="tel" id="telefone1_prof" name="telefone1_prof" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border">
                    </div>
                </div>

                <hr class="my-4 border-t-2 border-green-200">

                <!-- Cargo 2 -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="col-span-1">
                        <label for="cargo2" class="block text-sm font-medium text-gray-700">Cargo (2):</label>
                        <input type="text" id="cargo2" name="cargo2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border">
                    </div>
                    <div class="col-span-1">
                        <label for="especialidade2" class="block text-sm font-medium text-gray-700">Especialidade (2):</label>
                        <input type="text" id="especialidade2" name="especialidade2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border">
                    </div>
                    <div class="col-span-2">
                        <p class="text-sm font-medium text-gray-700">Vínculo:</p>
                        <div class="mt-2 flex flex-wrap gap-4">
                            <div class="flex items-center">
                                <input type="radio" id="vinculo2_efetivo" name="vinculo2" value="Efetivo" class="h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <label for="vinculo2_efetivo" class="ml-2 text-sm text-gray-700">Efetivo</label>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" id="vinculo2_comissionado" name="vinculo2" value="Comissionado" class="h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <label for="vinculo2_comissionado" class="ml-2 text-sm text-gray-700">Comissionado</label>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" id="vinculo2_temporario" name="vinculo2" value="Cont. Temporário" class="h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <label for="vinculo2_temporario" class="ml-2 text-sm text-gray-700">Cont. Temporário</label>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" id="vinculo2_uniao" name="vinculo2" value="União/Ex-Território" class="h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <label for="vinculo2_uniao" class="ml-2 text-sm text-gray-700">União/Ex-Território</label>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" id="vinculo2_clt" name="vinculo2" value="Empregado Público/CLT" class="h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <label for="vinculo2_clt" class="ml-2 text-sm text-gray-700">Empregado Público/CLT</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-span-1">
                        <label for="matricula2" class="block text-sm font-medium text-gray-700">Matrícula (2):</label>
                        <input type="text" id="matricula2" name="matricula2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border">
                    </div>
                    <div class="col-span-1">
                        <label for="dataAdmissao2" class="block text-sm font-medium text-gray-700">Data de admissão:</label>
                        <input type="date" id="dataAdmissao2" name="dataAdmissao2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border">
                    </div>
                    <div class="col-span-1">
                        <label for="secretaria2" class="block text-sm font-medium text-gray-700">Secret./Órgão:</label>
                        <input type="text" id="secretaria2" name="secretaria2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border">
                    </div>
                    <div class="col-span-1">
                        <label for="setor2" class="block text-sm font-medium text-gray-700">Setor de Lotação (2):</label>
                        <input type="text" id="setor2" name="setor2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border">
                    </div>
                    <div class="col-span-1">
                        <label for="telefone2_prof" class="block text-sm font-medium text-gray-700">Telefone:</label>
                        <input type="tel" id="telefone2_prof" name="telefone2_prof" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border">
                    </div>
                </div>

                <!-- Effective Exercise -->
                <div class="mt-6">
                    <p class="text-sm font-medium text-gray-700">Encontra-se em efetivo exercício na data do requerimento?</p>
                    <div class="mt-2 flex flex-wrap gap-4 items-center">
                        <div class="flex items-center">
                            <input type="radio" id="exercicio_sim" name="exercicio" value="Sim" class="h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500" checked>
                            <label for="exercicio_sim" class="ml-2 text-sm text-gray-700">Sim</label>
                        </div>
                        <div class="flex items-center">
                            <input type="radio" id="exercicio_nao" name="exercicio" value="Não" class="h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                            <label for="exercicio_nao" class="ml-2 text-sm text-gray-700">Não. Motivo do afastamento:</label>
                        </div>
                        <input type="text" id="motivoAfastamento" name="motivoAfastamento" class="mt-1 rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border flex-grow">
                    </div>
                    <div class="mt-4">
                        <label for="periodoAfastamento" class="block text-sm font-medium text-gray-700">Período do afastamento:</label>
                        <input type="text" id="periodoAfastamento" name="periodoAfastamento" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 p-2 border">
                    </div>
                </div>
            </div>

            <!-- Request Section -->
            <div class="mb-8 p-4 sm:p-6 rounded-lg border border-purple-200 bg-purple-50">
                <h5 class="text-lg font-bold text-purple-700 mb-4">DO PEDIDO</h5>
                <p class="mb-4 text-sm text-gray-700">Vem, com base no que preceitua a legislação em vigor, requerer Perícia Médica/Odontológica para fins de:</p>

                <!-- Section 1: LICENÇA -->
                <div class="mb-6">
                    <h6 class="text-base font-semibold text-purple-600">1. LICENÇA:</h6>
                    <div class="mt-2 space-y-2">
                        <div class="flex items-center">
                            <input type="checkbox" id="licenca_saude" name="licenca_saude" class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                            <label for="licenca_saude" class="ml-2 text-sm text-gray-700">para tratamento da própria saúde.</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="licenca_familiar" name="licenca_familiar" class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                            <label for="licenca_familiar" class="ml-2 text-sm text-gray-700">por motivo de doença em pessoa da família.</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="licenca_prorrogacao" name="licenca_prorrogacao" class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                            <label for="licenca_prorrogacao" class="ml-2 text-sm text-gray-700">prorrogação de licença por motivo de doença em pessoa da família.</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="licenca_maternidade" name="licenca_maternidade" class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                            <label for="licenca_maternidade" class="ml-2 text-sm text-gray-700">à gestante (maternidade).</label>
                        </div>
                    </div>
                    <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="nomeFamiliar" class="block text-sm font-medium text-gray-700">Nome do familiar:</label>
                            <input type="text" id="nomeFamiliar" name="nomeFamiliar" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 p-2 border">
                        </div>
                        <div>
                            <label for="grauParentesco" class="block text-sm font-medium text-gray-700">Grau de parentesco:</label>
                            <input type="text" id="grauParentesco" name="grauParentesco" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 p-2 border">
                        </div>
                    </div>
                </div>

                <!-- Section 2: REABILITAÇÃO OCUPACIONAL -->
                <div class="mb-6">
                    <h6 class="text-base font-semibold text-purple-600">2. REABILITAÇÃO OCUPACIONAL:</h6>
                    <div class="mt-2 space-y-2">
                        <div class="flex items-center">
                            <input type="checkbox" id="reabilitacao_remanejamento" name="reabilitacao_remanejamento" class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                            <label for="reabilitacao_remanejamento" class="ml-2 text-sm text-gray-700">remanejamento.</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="reabilitacao_readequacao" name="reabilitacao_readequacao" class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                            <label for="reabilitacao_readequacao" class="ml-2 text-sm text-gray-700">readequação de funções.</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="reabilitacao_readaptacao" name="reabilitacao_readaptacao" class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                            <label for="reabilitacao_readaptacao" class="ml-2 text-sm text-gray-700">readaptação.</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="reabilitacao_renovacao" name="reabilitacao_renovacao" class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                            <label for="reabilitacao_renovacao" class="ml-2 text-sm text-gray-700">renovação de reabilitação ocupacional.</label>
                        </div>
                    </div>
                </div>
                
                <!-- Section 3: HORÁRIO ESPECIAL -->
                <div class="mb-6">
                    <h6 class="text-base font-semibold text-purple-600">3. HORÁRIO ESPECIAL:</h6>
                    <div class="mt-2 space-y-2">
                        <div class="flex items-center">
                            <input type="checkbox" id="horario_deficiencia" name="horario_deficiencia" class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                            <label for="horario_deficiencia" class="ml-2 text-sm text-gray-700">ao(à) servidor(a) com deficiência.</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="horario_familiar_deficiencia" name="horario_familiar_deficiencia" class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                            <label for="horario_familiar_deficiencia" class="ml-2 text-sm text-gray-700">ao(à) servidor(a) com cônjuge, filho ou dependente com deficiência.</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="horario_renovacao" name="horario_renovacao" class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                            <label for="horario_renovacao" class="ml-2 text-sm text-gray-700">renovação de horário especial.</label>
                        </div>
                    </div>
                </div>

                <!-- Section 4 & 5 -->
                <div class="flex flex-col space-y-4">
                    <div class="flex items-center">
                        <input type="checkbox" id="retorno" name="retorno" class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                        <label for="retorno" class="ml-2 text-sm text-gray-700">4. RETORNO ÀS ATIVIDADES</label>
                    </div>
                    <div class="flex items-center">
                        <input type="checkbox" id="reconsideracao" name="reconsideracao" class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                        <label for="reconsideracao" class="ml-2 text-sm text-gray-700">5. RECONSIDERAÇÃO / RECURSO</label>
                    </div>
                </div>
            </div>

            <!-- Attached Documents Section -->
            <div class="mb-8 p-4 sm:p-6 rounded-lg border border-gray-200 bg-gray-50">
                <h5 class="text-lg font-bold text-gray-700 mb-4">ANEXOS</h5>
                <p class="text-sm font-medium text-gray-700">Documentos Anexos:</p>
                <div class="mt-2 space-y-2">
                    <div class="flex items-center">
                        <input type="checkbox" id="anexo_atestado_medico" name="anexo_atestado_medico" class="h-4 w-4 text-gray-600 border-gray-300 rounded focus:ring-gray-500">
                        <label for="anexo_atestado_medico" class="ml-2 text-sm text-gray-700">atestado/laudo médico ou odontológico (original).</label>
                    </div>
                    <div class="flex items-center">
                        <input type="checkbox" id="anexo_atestado_acompanhante" name="anexo_atestado_acompanhante" class="h-4 w-4 text-gray-600 border-gray-300 rounded focus:ring-gray-500">
                        <label for="anexo_atestado_acompanhante" class="ml-2 text-sm text-gray-700">atestado médico de acompanhante (original).</label>
                    </div>
                    <div class="flex items-center">
                        <input type="checkbox" id="anexo_exames" name="anexo_exames" class="h-4 w-4 text-gray-600 border-gray-300 rounded focus:ring-gray-500">
                        <label for="anexo_exames" class="ml-2 text-sm text-gray-700">exames complementares.</label>
                    </div>
                    <div class="flex items-center">
                        <input type="checkbox" id="anexo_comprovante_parentesco" name="anexo_comprovante_parentesco" class="h-4 w-4 text-gray-600 border-gray-300 rounded focus:ring-gray-500">
                        <label for="anexo_comprovante_parentesco" class="ml-2 text-sm text-gray-700">comprovante de parentesco (certidão de nascimento ou casamento, declaração de união estável).</label>
                    </div>
                    <div class="flex items-center">
                        <input type="checkbox" id="anexo_procuracao" name="anexo_procuracao" class="h-4 w-4 text-gray-600 border-gray-300 rounded focus:ring-gray-500">
                        <label for="anexo_procuracao" class="ml-2 text-sm text-gray-700">procuração pública.</label>
                    </div>
                    <div class="flex items-center">
                        <input type="checkbox" id="anexo_termo_guarda" name="anexo_termo_guarda" class="h-4 w-4 text-gray-600 border-gray-300 rounded focus:ring-gray-500">
                        <label for="anexo_termo_guarda" class="ml-2 text-sm text-gray-700">termo de guarda, tutela ou curatela.</label>
                    </div>
                    <div class="flex items-center">
                        <input type="checkbox" id="anexo_docs_pessoais" name="anexo_docs_pessoais" class="h-4 w-4 text-gray-600 border-gray-300 rounded focus:ring-gray-500">
                        <label for="anexo_docs_pessoais" class="ml-2 text-sm text-gray-700">documentos pessoais do(a) servidor(a) (obrigatório).</label>
                    </div>
                    <div class="flex items-center">
                        <input type="checkbox" id="anexo_docs_familiar" name="anexo_docs_familiar" class="h-4 w-4 text-gray-600 border-gray-300 rounded focus:ring-gray-500">
                        <label for="anexo_docs_familiar" class="ml-2 text-sm text-gray-700">documentos pessoais do familiar ou dependente (obrigatório).</label>
                    </div>
                    <div class="flex items-center">
                        <label for="anexo_outros" class="ml-2 text-sm text-gray-700">Outro(s):</label>
                        <input type="text" id="anexo_outros" name="anexo_outros" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-gray-500 focus:ring-gray-500 p-2 border ml-2">
                    </div>
                </div>
            </div>

            <!-- Signature Section -->
            <div class="mt-8 p-4 sm:p-6 rounded-lg border border-red-200 bg-red-50 text-right">
                <div class="mb-4">
                    <p class="text-sm font-medium text-gray-700">Nestes termos, pede deferimento.</p>
                    <div class="mt-2 flex flex-col items-end">
                        <div class="text-sm text-gray-600 mb-2">Boa Vista - RR, <span id="dataAtual" class="font-semibold"></span></div>
                        <div class="font-bold text-lg text-red-700 mt-4">_________________________</div>
                        <div class="font-medium text-sm text-gray-600">Requerente</div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="text-center mt-6 text-xs text-gray-500">
                <p>Divisão de Saúde Ocupacional - Rua Prof. Agnelo Bitencourt, 232 - Centro</p>
                <p>Fone: (95) 3621-1825/3621-1823/98402-9628</p>
            </div>
            
            <div class="flex justify-center mt-8">
                <button type="submit" class="px-6 py-3 bg-blue-600 text-white rounded-md font-bold shadow-md hover:bg-blue-700 transition-colors duration-200">
                    Gerar PDF
                </button>
            </div>
        </form>
    </div>

    <!-- Message box for user feedback -->
    <div id="messageBox" class="fixed bottom-4 right-4 bg-gray-800 text-white p-4 rounded-md shadow-lg hidden"></div>

    <script>
        // Get the message box element
        const messageBox = document.getElementById('messageBox');

        /**
         * Shows a message to the user in a styled box.
         * @param {string} message The message to display.
         * @param {string} type The type of message (e.g., 'success', 'error').
         */
        function showMessage(message, type) {
            messageBox.textContent = message;
            messageBox.style.backgroundColor = type === 'success' ? '#10B981' : '#EF4444';
            messageBox.classList.remove('hidden');
            setTimeout(() => {
                messageBox.classList.add('hidden');
            }, 3000);
        }

        document.addEventListener('DOMContentLoaded', (event) => {
            const today = new Date();
            const day = String(today.getDate()).padStart(2, '0');
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const year = today.getFullYear();
            document.getElementById('dataAtual').textContent = `${day} de ${month} de ${year}`;

            const form = document.getElementById('periciaForm');
            form.addEventListener('submit', async (e) => {
                e.preventDefault();

                // Get the form container element to be converted to PDF
                const formContent = document.getElementById('formContent');

                try {
                    // Use html2canvas to render the form content as a canvas
                    const canvas = await html2canvas(formContent, {
                        scale: 2, // Increase scale for better quality
                        useCORS: true // Required if any external images are used
                    });

                    // Get the image data from the canvas
                    const imgData = canvas.toDataURL('image/png');
                    const { jsPDF } = window.jspdf;

                    // Create a new jsPDF instance with A4 dimensions
                    const pdf = new jsPDF('p', 'mm', 'a4');
                    const imgWidth = 210; // A4 width in mm
                    const pageHeight = 297; // A4 height in mm
                    const imgHeight = canvas.height * imgWidth / canvas.width;
                    let heightLeft = imgHeight;
                    let position = 0;

                    // Add the image to the PDF, handling multiple pages if necessary
                    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                    heightLeft -= pageHeight;

                    // Add new pages until all content is included
                    while (heightLeft >= 0) {
                        position = heightLeft - imgHeight;
                        pdf.addPage();
                        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                        heightLeft -= pageHeight;
                    }

                    // Save the PDF
                    pdf.save('requerimento_pericia.pdf');

                    showMessage('PDF gerado com sucesso!', 'success');
                } catch (error) {
                    console.error('Erro ao gerar o PDF:', error);
                    showMessage('Ocorreu um erro ao gerar o PDF. Por favor, tente novamente.', 'error');
                }
            });
        });
    </script>
</body>
</html>
